<!DOCTYPE html>
<html lang="id">
<head>
    <meta charset="UTF-8">
    <title>Executor Terminal - Any-Simulation</title>
    <style>
        /* CSS KHUSUS EXECUTOR (Terintegrasi di sini untuk kemudahan) */
        body { 
            background-color: #0a0a0a; 
            color: #0f0; 
            font-family: 'Consolas', monospace; 
            margin: 0; 
            height: 100vh; 
            overflow: hidden; 
            padding: 20px;
            display: flex;
            flex-direction: column;
        }

        #interface-layer {
            height: 90%;
            overflow-y: auto;
            border: 1px solid #333;
            padding: 10px;
            background: rgba(0,0,0,0.8);
            position: relative; 
        }

        /* Input Kanan Bawah */
        .cmd-dock {
            position: fixed;
            bottom: 20px;
            right: 20px;
            width: 350px;
            background: #000;
            border: 2px solid #0f0;
            padding: 10px;
            box-shadow: 0 0 15px #0f0;
            display: flex;
            align-items: center;
            z-index: 999;
        }

        input {
            background: transparent;
            border: none;
            color: #fff;
            width: 100%;
            outline: none;
            font-family: inherit;
            margin-left: 10px;
        }

        /* Visual Elements */
        .log-item { margin-bottom: 5px; border-bottom: 1px solid #111; }
        .sys-success { color: #0f0; }
        .sys-warn { color: yellow; }
        .sys-error { color: red; }
        .sys-code { color: #00ffff; white-space: pre-wrap; background: #222; padding: 10px; font-size: 0.8rem; }
        
        /* Modifiable Elements by Command */
        .dynamic-box {
            display: inline-block;
            border: 1px dashed #555;
            margin: 5px;
            padding: 5px;
        }
    </style>
</head>
<body>

    <div id="interface-layer">
        <div class="log-item">System initialized...</div>
        <div class="log-item">Loading assets/Executor.html module...</div>
        <div class="log-item">Welcome, User. Type <b style="color:white">.listscript</b> to start.</div>
        <div id="dynamic-zone"></div>
    </div>

    <div class="cmd-dock">
        <span>EXEC_CMD:~$</span>
        <input type="text" id="cmd-input" placeholder="Enter command..." autofocus>
    </div>

    <script src="system.js"></script>
</body>
</html>
<div class="sys-warn">Mode: Read-Only View of DOM Structure</div>
        <div class="sys-code">${safeHTML}</div>
        <div class="sys-warn">--------------------------------------</div>
        <div style="color:white">Tip: Gunakan command <b>.makeFile</b> untuk melihat perubahan kode di atas secara real-time.</div>
        `;
    },

    // 3. Make File (Menambah elemen HTML baru secara dinamis)
    '.makeFile': (arg) => {
        if(!arg) return `<span class="sys-error">Error: Masukkan nama file. Contoh: .makeFile rahasia.txt</span>`;
        
        const newDiv = document.createElement('div');
        newDiv.className = 'dynamic-box';
        newDiv.innerHTML = `ðŸ“„ ${arg}`;
        dynamicZone.appendChild(newDiv);
        
        return `<span class="sys-success">Success: File '${arg}' ditambahkan ke DOM. Cek .OpenBts untuk melihat perubahannya.</span>`;
    },

    // 4. Time
    '.time': () => {
        return `Current System Time: ${new Date().toLocaleTimeString()}`;
    },

    // 5. System Info
    '.sysinfo': () => {
        return `Platform: ${navigator.platform} | Agent: ${navigator.userAgent}`;
    },

    // 6. Matrix Effect (Simulasi Text Acak)
    '.matrix': () => {
        // Efek visual sederhana membanjiri layar
        let rain = setInterval(() => {
            const span = document.createElement('div');
            span.style.color = '#0f0';
            span.style.opacity = Math.random();
            span.innerText = Math.random().toString(36).substring(2, 15);
            screen.appendChild(span);
            screen.scrollTop = screen.scrollHeight;
        }, 50);
        
        setTimeout(() => { clearInterval(rain); log("Matrix effect stopped.", "sys-warn"); }, 2000);
        return "Initiating Matrix Protocol...";
    },

    // 7. Calculator
    '.calc': (arg) => {
        try {
            return `Result: ${eval(arg)}`;
        } catch {
            return `<span class="sys-error">Math Error. Use format: .calc 5+5</span>`;
        }
    },

    // 8. Destroy (Prank)
    '.destroy': () => {
        document.body.style.transform = "rotate(5deg) scale(0.9)";
        document.body.style.filter = "blur(2px)";
        setTimeout(() => {
            document.body.style.transform = "none";
            document.body.style.filter = "none";
        }, 3000);
        return `<span class="sys-error">CRITICAL ERROR! SYSTEM UNSTABLE... (Restoring...)</span>`;
    },

    // 9. Color Changer
    '.color': (arg) => {
        if(!arg) return "Error: Masukkan kode warna. Contoh: .color #ff0000";
        document.body.style.color = arg;
        document.querySelector('.cmd-dock').style.borderColor = arg;
        document.querySelector('.cmd-dock').style.boxShadow = `0 0 15px ${arg}`;
        return `System color changed to ${arg}`;
    },

    // 10. Reboot
    '.reboot': () => {
        setTimeout(() => window.location.href = '../index.html', 1500);
        return "Rebooting system... Bye!";
    },

    // 11. Whoami
    '.whoami': () => "User: Administrator | Access Level: ROOT";
};

// --- LOGIKA UTAMA ---

function log(msg, type = '') {
    const div = document.createElement('div');
    div.className = `log-item ${type}`;
    div.innerHTML = msg;
    screen.appendChild(div);
    screen.scrollTop = screen.scrollHeight;
}

input.addEventListener('keydown', (e) => {
    if (e.key === 'Enter') {
        const raw = input.value.trim();
        if (!raw) return;

        // Pisahkan command dan argument (misal: .makeFile namafile)
        const args = raw.split(' ');
        const cmd = args[0];
        const param = args.slice(1).join(' '); // Gabungkan sisa array jadi string

        log(`root@executor:~$ ${raw}`, 'sys-warn');

        if (cmd === '.clear') {
            screen.innerHTML = '';
        } else if (commands[cmd]) {
            const response = commands[cmd](param);
            if (response) log(response);
        } else {
            log(`Command '${cmd}' not found.`, 'sys-error');
        }

        input.value = '';
    }
});
          
